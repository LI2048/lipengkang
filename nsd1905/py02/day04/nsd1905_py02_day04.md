# nsd1905_py02_day04

## 复杂的列表排序

- 列表的sort方法有一个名为key的参数
- key可以是一个函数，该函数处理列表中的每一项，返回值作为排序依据

```python
>>> ips = {'172.40.58.150': 10, '172.40.58.124': 6, '172.40.58.101': 10, '127.0.0.1': 121, '192.168.4.254': 103, '192.168.2.254': 110, '201.1.1.254': 173, '201.1.2.254': 119, '172.40.0.54': 391, '172.40.50.116': 244}
>>> iplist = list(ips.items())
>>> iplist
[('172.40.58.150', 10), ('172.40.58.124', 6), ('172.40.58.101', 10), ('127.0.0.1', 121), ('192.168.4.254', 103), ('192.168.2.254', 110), ('201.1.1.254', 173), ('201.1.2.254', 119), ('172.40.0.54', 391), ('172.40.50.116', 244)]
>>> def get_data(seq):
...   return seq[-1]
>>> iplist.sort(key=get_data, reverse=True)
>>> iplist
[('172.40.0.54', 391), ('172.40.50.116', 244), ('201.1.1.254', 173), ('127.0.0.1', 121), ('201.1.2.254', 119), ('192.168.2.254', 110), ('192.168.4.254', 103), ('172.40.58.150', 10), ('172.40.58.101', 10), ('172.40.58.124', 6)]

>>> iplist = list(ips.items())
>>> iplist.sort(key=lambda seq: seq[-1])
>>> iplist
[('172.40.58.124', 6), ('172.40.58.150', 10), ('172.40.58.101', 10), ('192.168.4.254', 103), ('192.168.2.254', 110), ('201.1.2.254', 119), ('127.0.0.1', 121), ('201.1.1.254', 173), ('172.40.50.116', 244), ('172.40.0.54', 391)]
```

## 安装模块

- python有大量的模块，这些模块没有全部作为标准安装的一部分。使用时，需要单独安装
- 官方站点：https://pypi.org/
- 安装python包，用pip命令。方法与rpm包类似

```shell
# 在线安装软件包，默认联系的是国外官方站点，慢
# 可以使用国内镜像站点加速
[root@room8pc16 ~]# mkdir ~/.pip/
[root@room8pc16 ~]# vim ~/.pip/pip.conf 
[global]
index-url = http://pypi.douban.com/simple/
[install]  
trusted-host=pypi.douban.com

# 例如：在线安装ipy模块
(nsd1905) [root@room8pc16 day04]# pip install ipy
>>> import IPy

# 本地安装
# tar xzf /linux-soft/05/zzg_pypkgs.tar.gz -C ~
(nsd1905)[root@room8pc16 ~]# pip install zzg_pypkgs/pymysql_pkgs/*
>>> import pymysql

```





























